{"version":3,"sources":["Components/Chart.js","Components/Details.js","Routes/Coin.js","Components/Coin.js","Routes/Main.js","Router.js","App.js","index.js"],"names":["Chart","chartDate","chartPrice","data","labels","datasets","label","coin","borderColor","backgroundColor","fill","className","Details","id","src","image","small","alt","style","fontWeight","toUpperCase","symbol","coingecko_rank","market_cap_rank","genesis_date","Coin","match","params","useState","loading","setLoading","setData","dates","setDates","setChartDate","setChartPrice","getCoin","useCallback","a","axios","get","result","getCoinChartData","dateArr","priceArr","prices","map","price","date","Date","push","getYear","getMonth","getDate","toFixed","toLocaleString","useEffect","onChange","e","target","value","description","ko","coins","i","to","current_price","price_change_percentage_24h","market_cap","name","Main","setCoins","pageRef","useRef","getApi","current","interval","setInterval","clearInterval","searchState","setSearchState","searchedCoin","setSearchedCoin","searched","setSearched","onClick","preventDefault","placeholder","undefined","xmlns","width","height","viewBox","d","Router","basename","exact","path","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.52242d7d.chunk.js","sourcesContent":["import {Line} from 'react-chartjs-2';\r\n\r\nimport '../scss/Components/Chart.scss';\r\n\r\nconst Chart = ({chartDate, chartPrice, coin}) => {\r\n  const data = {\r\n    labels: chartDate,\r\n    datasets: [\r\n      {\r\n        label: coin,\r\n        data: chartPrice,\r\n        borderColor: \"orange\",\r\n        backgroundColor: \"transparent\",\r\n        fill: \"\"\r\n      }\r\n    ]\r\n  }\r\n  //console.log(chartDate);\r\n  //console.log(chartPrice);\r\n  return <div className=\"chart-wrapper\">\r\n    <Line data={data} />\r\n  </div>\r\n}\r\n\r\nexport default Chart;","import '../scss/Components/Details.scss';\r\n\r\nconst Details = ({data}) => {\r\n  //console.log(data);\r\n  return <div className=\"details-container\">\r\n    {\r\n      data?.id ? <>\r\n        <img src={data.image.small} alt={data.id} />\r\n        <div style={{fontWeight: 'bold'}}>{data.id.toUpperCase()}</div>\r\n        <div style={{fontWeight: 'bold'}}>{data.symbol.toUpperCase()}</div>\r\n        <div>Rank {data.coingecko_rank}</div>\r\n        <div>Mkt Cap Rank: {data.market_cap_rank}</div>\r\n        <div>{data.genesis_date}</div>\r\n      </> : <h1>Loading...</h1>\r\n    }\r\n  </div>\r\n}\r\n\r\nexport default Details;","import axios from \"axios\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport Chart from \"../Components/Chart\";\r\nimport Details from \"../Components/Details\";\r\n\r\nimport '../scss/Routes/Coin.scss';\r\n\r\nconst Coin = ({match}) => {\r\n  const {params:{coin}} = match;\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState([]); //코인 정보\r\n  const [dates, setDates] = useState(1); //1일 7일 1년 정하기 위한 수\r\n  const [chartDate, setChartDate] = useState([]); // 불러온 차트 데이터의 날짜 데이터 배열\r\n  const [chartPrice, setChartPrice] = useState([]); // 불러온 차트 데이터의 가격 데이터 배열\r\n\r\n  const getCoin = useCallback(async () => {\r\n    const result = await axios.get(`https://api.coingecko.com/api/v3/coins/${coin}`);\r\n    setData(result.data);\r\n  },[coin])\r\n\r\n  const getCoinChartData = useCallback(async () => {\r\n    const result = await axios.get(`https://api.coingecko.com/api/v3/coins/${coin}/market_chart?vs_currency=krw&days=${dates}`);\r\n    //console.log(result.data.prices);\r\n    const dateArr = [];\r\n    const priceArr = [];\r\n    result.data.prices.map(price => {\r\n      const date = new Date(price[0]);\r\n      //console.log(date.getFullYear(), date.getMonth() + 1, date.getDate());\r\n      dateArr.push(`${date.getYear()}/${date.getMonth() + 1}/${date.getDate()}`);\r\n      priceArr.push(price[1].toFixed(0).toLocaleString());\r\n      return null;\r\n    });\r\n    setChartDate(dateArr);\r\n    setChartPrice(priceArr);\r\n  },[coin, dates])\r\n\r\n  //console.log(`chartDate ->`, chartDate);\r\n  //console.log(`charPrice ->`, chartPrice);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getCoin();\r\n    getCoinChartData();\r\n    setLoading(false);\r\n  },[getCoin, getCoinChartData])\r\n\r\n  return <div className=\"coin-route__wrapper\">\r\n    <div className=\"coin-title\">{coin}</div>\r\n    {\r\n      loading ? <h1>Loading...</h1> : <>\r\n        <select onChange={e => setDates(e.target.value)}>\r\n          <option value=\"1\">1Day</option>\r\n          <option value=\"7\">7Day</option>\r\n          <option value=\"14\">14Day</option>\r\n          <option value=\"30\">1Month</option>\r\n          <option value=\"90\">3Month</option>\r\n          <option value=\"180\">6Month</option>\r\n          <option value=\"365\">1Year</option>\r\n          <option value=\"1095\">3Year</option>\r\n        </select>\r\n        <Chart chartDate={chartDate} chartPrice={chartPrice} coin={coin} />\r\n        <Details data={data} />\r\n        {\r\n          data?.description?.ko ? \r\n          <p>{data.description.ko}</p> : \r\n          data?.description?.ko === \"\" ? \r\n          <h1>No description about {data.id}</h1> : \r\n          <h1>Loading...</h1>\r\n        }\r\n      </>\r\n    }\r\n  </div>\r\n}\r\n\r\nexport default Coin;","import {Link} from 'react-router-dom';\r\nimport '../scss/Components/Coin.scss';\r\n\r\nconst Coin = ({coins}) => {\r\n  //console.log(coins)\r\n  return <div className=\"wrapper\">\r\n    {coins.map((coin, i) => <div className={`coin-container ${(i + 2) % 2 === 0 ? \"even\" : \"odd\"}`} key={coin.name}>\r\n      <Link to={`/${coin.id}`}><img src={coin.image} alt={coin.id} /></Link>\r\n      <Link to={`/${coin.id}`}><span className=\"coin-id\">{coin.id}</span></Link>\r\n      <Link to={`/${coin.id}`}>\r\n        <span className=\"coin-symbol\">{coin.symbol.toUpperCase()}</span>\r\n      </Link>\r\n        <span>{coin.current_price.toLocaleString()} KRW</span>\r\n        <span className={coin.price_change_percentage_24h === null ? 'black' : coin.price_change_percentage_24h > 0 ? 'green' : 'red'}>{coin?.price_change_percentage_24h ? coin.price_change_percentage_24h.toFixed(2) : 0}%</span>\r\n        <span>Mkt Cap: ₩{coin.market_cap.toLocaleString()}</span>\r\n    </div>\r\n    )}\r\n  </div>\r\n}\r\n\r\nexport default Coin;","import React, { useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport '../scss/Routes/Main.scss';\r\nimport Coin from '../Components/Coin';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Main() {\r\n  const [coins, setCoins] = useState([]);\r\n  const pageRef = useRef(1);\r\n\r\n  const getApi = async () => {\r\n    const result = await axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=krw&order=market_cap_desc&per_page=20&page=${pageRef.current}&sparkline=false`);\r\n    setCoins(result.data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval( () => getApi(), 1000 );\r\n    return () => clearInterval(interval);\r\n  },[pageRef])\r\n\r\n  const [searchState, setSearchState] = useState(false);\r\n  const [searchedCoin, setSearchedCoin] = useState([]);\r\n  const [searched, setSearched] = useState('');\r\n\r\n  const onClick = async (e) => {\r\n    e.preventDefault();\r\n    const result = await axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=krw&ids=${searched}`);\r\n    setSearchedCoin(result.data);\r\n    setSearchState(true);\r\n    //console.log(result.data);\r\n  }\r\n  //if(coins[0] !== undefined)console.log(coins[0].current_price)\r\n  //console.log(coins)\r\n  return (\r\n    <>\r\n    <span className=\"title\">Coin Chart</span>\r\n    <div className=\"container\">\r\n      <form>\r\n        <input placeholder=\"Search Coin\" onChange={e => setSearched(e.target.value)} />\r\n        <button onClick={onClick}>Search</button>\r\n      </form>\r\n      {\r\n        searchState === false ? null : searchedCoin[0] === undefined ? \r\n          <h1>Coin Not Found</h1> : \r\n          <span className=\"searched\">\r\n            <Link to={`/${searched}`}>\r\n              click here to see {searchedCoin[0].id}\r\n            </Link>\r\n          </span>\r\n      }\r\n      {\r\n        coins[0] === undefined ? (\r\n          <h1>Loading...</h1>\r\n        ) : (\r\n          <div className=\"coin-table\">\r\n            <button onClick={() => {pageRef.current === 1 ? pageRef.current = 1 : pageRef.current -= 1}}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\"/></svg>\r\n            </button>\r\n            <Coin coins={coins} />\r\n            <button onClick={() => pageRef.current += 1}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z\"/></svg>\r\n            </button>\r\n          </div>\r\n        )\r\n      }\r\n      \r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import {BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport Coin from './Routes/Coin';\r\nimport Main from './Routes/Main';\r\n\r\nconst Router = () => {\r\n  return <BrowserRouter basename=\"/coin-chart\">\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Main} />\r\n      <Route path='/:coin' component={Coin} />\r\n    </Switch>\r\n  </BrowserRouter>\r\n}\r\n\r\nexport default Router;","import React from 'react';\nimport Router from './Router';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}